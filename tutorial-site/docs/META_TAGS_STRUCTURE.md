# Meta Tags HTML Structure Reference

This document shows the exact HTML meta tags generated by the implementation.

## Rendered HTML Output

### Basic Page (Website Mode)

```html
<!DOCTYPE html>
<html lang="en" class="dark">
  <head>
    <!-- Basic Meta Tags -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home | How to Build an App</title>
    <meta name="description" content="Non-linear guide to software development organized using the Thermocline Principle">
    <link rel="canonical" href="https://howtobuildanapp.dev/">

    <!-- SEO Meta Tags -->
    <meta name="keywords" content="software-development, learning-guide, development-phases">
    <!-- Note: last-modified not included for non-article pages -->

    <!-- Open Graph Meta Tags for Social Sharing -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Home | How to Build an App">
    <meta property="og:description" content="Non-linear guide to software development organized using the Thermocline Principle">
    <meta property="og:url" content="https://howtobuildanapp.dev/">
    <meta property="og:site_name" content="How to Build an App">
    <meta property="og:image" content="https://howtobuildanapp.dev/assets/images/flossin-tech.png">
    <meta property="og:image:alt" content="How to Build an App - Non-linear guide to software development">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:locale" content="en_US">

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@FlosstinTech">
    <meta name="twitter:creator" content="@FlosstinTech">
    <meta name="twitter:title" content="Home | How to Build an App">
    <meta name="twitter:description" content="Non-linear guide to software development organized using the Thermocline Principle">
    <meta name="twitter:image" content="https://howtobuildanapp.dev/assets/images/flossin-tech.png">
    <meta name="twitter:image:alt" content="How to Build an App Logo">

    <!-- Article-Specific Meta Tags - NOT INCLUDED for non-article pages -->

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <!-- ... other fonts ... -->

    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "How to Build an App",
      "description": "Non-linear guide to software development organized by lifecycle phases",
      "url": "https://howtobuildanapp.dev",
      "sameAs": ["https://github.com/Flossin-Tech/how-to-build-an-app"],
      "creator": {
        "@type": "Organization",
        "name": "Flossin Tech",
        "logo": {
          "@type": "ImageObject",
          "url": "https://howtobuildanapp.dev/assets/images/flossin-tech.png"
        }
      }
    }
    </script>
  </head>
  <body>
    <!-- Page content -->
  </body>
</html>
```

---

### Article/Content Page (Article Mode)

```html
<!DOCTYPE html>
<html lang="en" class="dark">
  <head>
    <!-- Basic Meta Tags -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secret Management: The Essentials | How to Build an App</title>
    <meta name="description" content="Keep API keys, passwords, and credentials out of your code. Master environment variables, secret managers, and secure practices.">
    <link rel="canonical" href="https://howtobuildanapp.dev/03-development/secret-management/surface/">

    <!-- SEO Meta Tags -->
    <meta name="keywords" content="security, secrets, api-keys, environment-variables, best-practices">
    <meta name="last-modified" content="2025-11-15">

    <!-- Open Graph Meta Tags for Social Sharing -->
    <meta property="og:type" content="article">  <!-- NOTE: "article" not "website" -->
    <meta property="og:title" content="Secret Management: The Essentials | How to Build an App">
    <meta property="og:description" content="Keep API keys, passwords, and credentials out of your code. Master environment variables, secret managers, and secure practices.">
    <meta property="og:url" content="https://howtobuildanapp.dev/03-development/secret-management/surface/">
    <meta property="og:site_name" content="How to Build an App">
    <meta property="og:image" content="https://howtobuildanapp.dev/assets/images/flossin-tech.png">
    <meta property="og:image:alt" content="How to Build an App - Non-linear guide to software development">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:locale" content="en_US">

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@FlosstinTech">
    <meta name="twitter:creator" content="@FlosstinTech">
    <meta name="twitter:title" content="Secret Management: The Essentials | How to Build an App">
    <meta name="twitter:description" content="Keep API keys, passwords, and credentials out of your code. Master environment variables, secret managers, and secure practices.">
    <meta name="twitter:image" content="https://howtobuildanapp.dev/assets/images/flossin-tech.png">
    <meta name="twitter:image:alt" content="How to Build an App Logo">

    <!-- Article-Specific Meta Tags - ONLY FOR ARTICLES -->
    <meta property="article:published_time" content="2025-11-15">
    <meta property="article:modified_time" content="2025-11-15">
    <meta property="article:tag" content="security, secrets, api-keys, environment-variables, best-practices">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <!-- ... other fonts ... -->

    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "How to Build an App",
      "description": "Non-linear guide to software development organized by lifecycle phases",
      "url": "https://howtobuildanapp.dev",
      "sameAs": ["https://github.com/Flossin-Tech/how-to-build-an-app"],
      "creator": {
        "@type": "Organization",
        "name": "Flossin Tech"
      }
    }
    </script>

    <!-- Additional Schema for Articles -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Article",
      "headline": "Secret Management: The Essentials",
      "description": "Keep API keys, passwords, and credentials out of your code.",
      "url": "https://howtobuildanapp.dev/03-development/secret-management/surface/",
      "image": {
        "@type": "ImageObject",
        "url": "https://howtobuildanapp.dev/assets/images/flossin-tech.png",
        "width": 1200,
        "height": 630
      },
      "datePublished": "2025-11-15",
      "dateModified": "2025-11-15",
      "author": {
        "@type": "Organization",
        "name": "How to Build an App"
      }
    }
    </script>
  </head>
  <body>
    <!-- Page content -->
  </body>
</html>
```

---

## Meta Tag Categories

### 1. Basic Meta Tags (Always Present)
```html
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>{title} | How to Build an App</title>
<meta name="description" content="{description}">
<link rel="canonical" href="{full-url}">
```

### 2. SEO Meta Tags (Conditional)
```html
<!-- Only if keywords provided -->
<meta name="keywords" content="{keyword1}, {keyword2}, ...">

<!-- Only if updated provided -->
<meta name="last-modified" content="{timestamp}">
```

### 3. OpenGraph Tags (Always Present)
```html
<meta property="og:type" content="{website|article}">
<meta property="og:title" content="{title} | How to Build an App">
<meta property="og:description" content="{description}">
<meta property="og:url" content="{canonical-url}">
<meta property="og:site_name" content="How to Build an App">
<meta property="og:image" content="{image-url}">
<meta property="og:image:alt" content="{image-alt}">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta property="og:locale" content="en_US">
```

### 4. Twitter Card Tags (Always Present)
```html
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@FlosstinTech">
<meta name="twitter:creator" content="@FlosstinTech">
<meta name="twitter:title" content="{title} | How to Build an App">
<meta name="twitter:description" content="{description}">
<meta name="twitter:image" content="{image-url}">
<meta name="twitter:image:alt" content="{image-alt}">
```

### 5. Article-Specific Tags (Conditional - Only if `updated` provided)
```html
<meta property="article:published_time" content="{timestamp}">
<meta property="article:modified_time" content="{timestamp}">
<meta property="article:tag" content="{keyword1}, {keyword2}, ...">
```

### 6. Structured Data (JSON-LD)
```html
<!-- WebSite Schema (always present) -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "How to Build an App",
  ...
}
</script>

<!-- Article Schema (only if updated provided) -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Article",
  ...
}
</script>
```

---

## Conditional Rendering Logic

### og:type Determination
```
if (updated prop exists) {
  og:type = "article"
} else {
  og:type = "website"
}
```

### Article Tags Rendering
```
if (updated prop exists) {
  Include: article:published_time, article:modified_time, article:tag
}
```

### Keywords Rendering
```
if (keywords array provided AND not empty) {
  Include: meta name="keywords"
  Include: article:tag (if article mode)
}
```

### Last-Modified Rendering
```
if (updated prop exists) {
  Include: meta name="last-modified"
}
```

---

## Sample Values Reference

### Title Format
```
Pattern: "{title} | How to Build an App"

Examples:
- "Secret Management: The Essentials | How to Build an App" (64 chars)
- "API Design Principles | How to Build an App" (45 chars)
- "Threat Modeling | How to Build an App" (38 chars)

Display Limit: ~60 chars on desktop, ~40 on mobile
```

### Description Format
```
Pattern: "{benefits-focused description}"

Example 1:
"Keep API keys, passwords, and credentials out of your code. Master environment variables, secret managers, and secure practices."
(Length: 127 chars - within limit)

Example 2:
"Learn API design principles including REST conventions, HTTP status codes, versioning strategies, and pagination patterns for scalable APIs."
(Length: 139 chars - within limit)

Optimal Length: 150-160 characters
Display Limit: ~155 chars on desktop, ~130 on mobile
Auto-Trim: If longer than 160 chars, trimmed to 157 chars + "..."
```

### Keywords Format
```
Pattern: "{keyword1}, {keyword2}, {keyword3}, {keyword4}, {keyword5}"

Example:
"security, api-keys, environment-variables, secret-management, best-practices"

Rules:
- Comma-separated values
- Maximum 5 keywords used
- First 5 from array taken
- If fewer than 5 provided, all used
```

### Timestamp Format (ISO 8601)
```
Accepted Formats:
- 2025-11-15 (date only)
- 2025-11-15T10:30:00Z (with time UTC)
- 2025-11-15T10:30:00+00:00 (with timezone)

Recommended: 2025-11-15 (matches Markdown frontmatter pattern)

Output in Meta Tags:
<meta property="article:published_time" content="2025-11-15">
<meta property="article:modified_time" content="2025-11-15">
```

---

## Real Examples from Site

### Learning Path Page
```html
<meta property="og:type" content="website">
<meta property="og:title" content="New Developer: Full Journey | How to Build an App">
<meta property="og:description" content="A guided path through all seven development lifecycle phases for developers new to software development. 10-12 hours total.">
```

### Phase Landing Page
```html
<meta property="og:type" content="website">
<meta property="og:title" content="Discovery & Planning | How to Build an App">
<meta property="og:description" content="Understand what to build and why. Learn discovery practices, requirements gathering, stakeholder analysis, and project scoping.">
```

### Surface-Level Content
```html
<meta property="og:type" content="article">
<meta property="og:title" content="Testing: The Essentials | How to Build an App">
<meta property="og:description" content="Essential testing concepts: unit tests, integration tests, and the testing pyramid. 5-10 minute overview for all developers.">
<meta property="article:published_time" content="2025-11-10">
<meta property="article:tag" content="testing, quality-assurance, automation, best-practices">
```

---

## Browser DevTools Inspection

### How to View Rendered Meta Tags

**Option 1: View Page Source**
1. Right-click page > "View Page Source" (or Ctrl/Cmd+U)
2. Search for "og:" to find OpenGraph tags
3. Search for "twitter:" for Twitter tags

**Option 2: DevTools Inspector**
1. Open DevTools (F12)
2. Go to Elements tab
3. Expand `<head>` section
4. Look for `<meta property="og:...">` tags

**Option 3: Console Command**
```javascript
// Copy-paste in browser console:
Array.from(document.querySelectorAll('meta[property^="og:"]')).forEach(m => {
  console.log(m.getAttribute('property'), '=', m.getAttribute('content'))
})

// Output example:
// og:type = article
// og:title = Secret Management: The Essentials | How to Build an App
// ...
```

---

## Validation Tools Output

### Facebook Sharing Debugger
When you paste a URL and hit "Debug", it shows:
- og:title (used as preview title)
- og:description (used as preview description)
- og:image (shown as preview image)
- og:type (determines card layout)

### Twitter Card Validator
Shows:
- Card type (summary_large_image)
- Title and description
- Image preview
- Any validation warnings

### Google Rich Results Test
Shows:
- Schema.org detection
- Article/Article detection (if applicable)
- Rich snippet preview

---

## Technical Implementation Details

### Description Trimming Algorithm
```javascript
const trimmedDescription = description.length > 160
  ? description.substring(0, 157) + '...'
  : description;
```

### Keywords Formatting Algorithm
```javascript
const keywordsMeta = keywords.slice(0, 5).join(', ');
```

### og:type Determination
```javascript
const ogType = updated ? 'article' : 'website';
```

### URL Construction
```javascript
const ogImageURL = new URL(joinPath('/assets/images/flossin-tech.png'), Astro.site).toString();
```

---

## Common Issues & Expected Output

### Issue: Keywords Meta Tag Not Showing
**Expected**: Keywords appear only if you provide them
```
<meta name="keywords" content="tag1, tag2, tag3">
```

### Issue: Article Tags Missing
**Expected**: These appear only if `updated` prop provided
```
<meta property="article:published_time" content="2025-11-15">
<meta property="article:modified_time" content="2025-11-15">
<meta property="article:tag" content="keyword1, keyword2">
```

### Issue: Description Truncated with "..."
**Expected**: Happens when description exceeds 160 characters
```
Original: "This is a very long description that exceeds the optimal length and will be trimmed automatically"
Output: "This is a very long description that exceeds the optimal length and will be trimmed..."
```

---

## Summary

The implementation generates different meta tag combinations based on props:

**Minimal Page** (only title):
- Basic meta tags
- OpenGraph (website mode)
- Twitter Card
- WebSite Schema

**Regular Page** (title + description + keywords):
- All above
- Keywords meta tag
- SEO optimization

**Article Page** (title + description + keywords + updated):
- All above
- og:type = "article"
- Article-specific meta tags
- Article Schema JSON-LD
- Rich snippet metadata

**Performance**: All meta tags are static HTML in `<head>`, no JavaScript execution required.
